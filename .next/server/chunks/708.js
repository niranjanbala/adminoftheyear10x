exports.id=708,exports.ids=[708],exports.modules={4780:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(49384),e=c(82348);function f(...a){return(0,e.QP)((0,d.$)(a))}},12377:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},27624:(a,b,c)=>{Promise.resolve().then(c.bind(c,28395))},28395:(a,b,c)=>{"use strict";c.d(b,{A:()=>h,AuthProvider:()=>g});var d=c(60687),e=c(43210);c(5745);let f=(0,e.createContext)(void 0);function g({children:a}){let[b,c]=(0,e.useState)(null),[g,h]=(0,e.useState)(!0),[i]=(0,e.useState)(()=>null),j=async()=>{try{h(!0);let a=await fetch("/api/auth/hubspot/initiate",{method:"GET"});if(!a.ok)throw Error("Failed to initiate HubSpot authentication");let{authUrl:b}=await a.json();window.location.href=b}catch(a){throw console.error("HubSpot sign-in error:",a),h(!1),a}},k=async()=>{if(i)try{h(!0),await fetch("/api/auth/logout",{method:"POST"}),await i.auth.signOut(),c(null)}catch(a){throw console.error("Sign out error:",a),a}finally{h(!1)}},l=async()=>{try{if(!(await fetch("/api/auth/refresh",{method:"POST"})).ok)throw Error("Failed to refresh tokens")}catch(a){throw console.error("Token refresh error:",a),a}};return(0,d.jsx)(f.Provider,{value:{user:b,loading:g,signInWithHubSpot:j,signOut:k,refreshTokens:l},children:a})}function h(){let a=(0,e.useContext)(f);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},29523:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(60687),e=c(43210),f=c(8730),g=c(24224),h=c(4780);let i=(0,g.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},29821:a=>{function b(a){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}b.keys=()=>[],b.resolve=b,b.id=29821,a.exports=b},44493:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(60687),e=c(43210),f=c(4780);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},45285:(a,b,c)=>{"use strict";c.d(b,{O:()=>h});var d=c(60687),e=c(28395),f=c(54895),g=c(44493);function h({children:a,requireRole:b,requireVerified:c=!1,fallback:h}){let{user:i,loading:j}=(0,e.A)();if(j)return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(!i)return h||(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,d.jsxs)(g.Zp,{className:"w-full max-w-md",children:[(0,d.jsxs)(g.aR,{className:"text-center",children:[(0,d.jsx)(g.ZB,{className:"text-2xl font-bold",children:"Sign In Required"}),(0,d.jsx)(g.BT,{children:"You need to sign in with your HubSpot account to access this page."})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)(f.M,{className:"w-full"})})]})});if(c&&"verified"!==i.verification_status)return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,d.jsx)(g.Zp,{className:"w-full max-w-md",children:(0,d.jsxs)(g.aR,{className:"text-center",children:[(0,d.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-yellow-100",children:(0,d.jsx)("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,d.jsx)(g.ZB,{className:"text-2xl font-bold",children:"Account Verification Required"}),(0,d.jsxs)(g.BT,{children:["Your HubSpot account needs to be verified before you can access this feature.","pending"===i.verification_status&&" Verification is currently pending.","rejected"===i.verification_status&&" Your verification was rejected. Please contact support."]})]})})});if(b){let a={participant:0,voter:1,organizer:2,super_admin:3};if(a[i.role]<a[b])return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,d.jsx)(g.Zp,{className:"w-full max-w-md",children:(0,d.jsxs)(g.aR,{className:"text-center",children:[(0,d.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:(0,d.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})})}),(0,d.jsx)(g.ZB,{className:"text-2xl font-bold",children:"Access Denied"}),(0,d.jsxs)(g.BT,{children:["You don't have the required permissions to access this page. Required role: ",b.replace("_"," ")]})]})})})}return(0,d.jsx)(d.Fragment,{children:a})}},54895:(a,b,c)=>{"use strict";c.d(b,{M:()=>h});var d=c(60687),e=c(43210),f=c(29523),g=c(28395);function h({variant:a="default",size:b="default",className:c,children:h}){let{signInWithHubSpot:i,loading:j}=(0,g.A)(),[k,l]=(0,e.useState)(!1),m=async()=>{try{l(!0),await i()}catch(a){console.error("Login failed:",a)}finally{l(!1)}};return(0,d.jsx)(f.$,{variant:a,size:b,className:c,onClick:m,disabled:j||k,children:k?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):h||(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.568 8.16c-.169 1.858-.896 3.433-2.043 4.568-1.258 1.249-2.97 1.93-4.814 1.93-1.843 0-3.556-.681-4.814-1.93-1.147-1.135-1.874-2.71-2.043-4.568-.027-.312.207-.576.52-.576h.896c.261 0 .48.183.53.437.123 1.25.634 2.394 1.434 3.188.8.794 1.87 1.232 3.014 1.232s2.214-.438 3.014-1.232c.8-.794 1.311-1.938 1.434-3.188.05-.254.269-.437.53-.437h.896c.313 0 .547.264.52.576z"})}),"Sign in with HubSpot"]})})}},58253:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/niranjanbala/MyCode/products/Untitled/adminoftheyear10x/src/components/auth/auth-provider.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/niranjanbala/MyCode/products/Untitled/adminoftheyear10x/src/components/auth/auth-provider.tsx","useAuth")},61135:()=>{},64072:(a,b,c)=>{Promise.resolve().then(c.bind(c,58253))},75929:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>h,viewport:()=>i});var d=c(37413),e=c(7339),f=c.n(e);c(61135);var g=c(58253);let h={title:"HubSpot Admin Competition",description:"Global HubSpot Admin Competition Platform",manifest:"/manifest.json"},i={width:"device-width",initialScale:1,maximumScale:1,themeColor:"#000000"};function j({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.AuthProvider,{children:a})})})}},96834:(a,b,c)=>{"use strict";c.d(b,{E:()=>h});var d=c(60687);c(43210);var e=c(24224),f=c(4780);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}}};